{"version":3,"sources":["component/reducers/users.js","component/store/store.js","component/actions/users.js","component/UserItem.js","component/UsersList.js","component/Header.js","component/Filters.js","component/HomePage.js","index.js"],"names":["usersReducer","state","action","type","users","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","applyMiddleware","thunk","setUsers","UserItem","country","captial","population","flag","Card","className","Body","Img","variant","src","alt","Title","Text","UsersList","isLoading","Fragment","map","user","index","Header","handleSearch","placeholder","onChange","Filters","handleSort","sortOrder","value","options","label","connect","props","useState","setSortOrder","setIsLoading","inputRef","useRef","onSearchText","text","filtered","filter","toLowerCase","includes","useEffect","dispatch","a","axios","get","data","console","log","current","_","debounce","length","event","target","orderBy","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f86b0d95.chunk.js","sourcesContent":["const usersReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'SET_USERS':\n      return [...state, ...action.users];\n    default:\n      return state;\n  }\n};\n\nexport default usersReducer;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport usersReducer from '../reducers/users';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  combineReducers({\n    users: usersReducer\n  }),\n  composeEnhancers(applyMiddleware(thunk))\n);\n\nexport default store;","import axios from 'axios';\n\nexport const loadUsers = () => {\n  return async (dispatch) => {\n    try {\n      const users = await axios.get('./users.json');\n      return dispatch(setUsers(users.data));\n    } catch (error) {\n      console.log('error:', error);\n    }\n  };\n};\n\nexport const setUsers = (users) => ({\n  type: 'SET_USERS',\n  users\n});","import React from 'react';\nimport { Card } from 'react-bootstrap';\n\nconst UserItem = ({country,captial,population,flag}) => {\n  return (\n    <Card className=\"user\">\n      <Card.Body>\n       <Card.Img variant=\"top\" src={flag} className=\"user__image\" alt={country} />\n        <Card.Title className=\"user__name\"><strong>Country Name:-</strong>{country}</Card.Title>\n        <Card.Text className=\"user__details\">\n          <span>\n            <strong>Captial:</strong> {captial}\n          </span>\n           <span>\n            <strong>Population:</strong> {population}\n          </span>\n        </Card.Text>\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default UserItem;","import React from 'react';\nimport UserItem from './UserItem';\n\nconst UsersList = ({ users, isLoading }) => {\n  return (\n    <div className=\"users-list\">\n      {isLoading ? (\n        <p className=\"loading\">Loading...</p>\n      ) : (\n        <React.Fragment>\n          {users.map((user, index) => (\n            <UserItem key={index} {...user} />\n          ))}\n        </React.Fragment>\n      )}\n    </div>\n  );\n};\n\nexport default UsersList;","import React from 'react';\n\nconst Header = ({ handleSearch }) => {\n  return (\n    <header className=\"header\">\n      <div className=\"header__title\">Country Search App</div>\n      <div className=\"header__search\">\n        <input\n          type=\"search\"\n          placeholder=\"Search users by country\"\n          onChange={handleSearch}\n        />\n      </div>\n    </header>\n  );\n};\n\nexport default Header;","import React from 'react';\nimport Select from 'react-select';\n\nconst Filters = ({ handleSort, sortOrder }) => {\n  const options = [\n    { value: '', label: 'None' },\n    { value: 'asc', label: 'Ascending' },\n    { value: 'desc', label: 'Descending' }\n  ];\n\n  return (\n    <div className=\"sortBy\">\n      Sort by age\n      <Select\n        value={sortOrder}\n        className=\"select-filter\"\n        onChange={handleSort}\n        options={options}\n      />\n    </div>\n  );\n};\n\nexport default Filters;","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect, useRef } from 'react';\nimport _ from 'lodash';\nimport { connect } from 'react-redux';\nimport { loadUsers } from './actions/users';\nimport UsersList from './UsersList';\nimport Header from './Header';\nimport Filters from './Filters';\n\nconst HomePage = (props) => {\n  const [users, setUsers] = useState(props.users);\n  const [sortOrder, setSortOrder] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const inputRef = useRef();\n\n  // call api to get list of users\n  useEffect(() => {\n    setIsLoading(true);\n    props.dispatch(loadUsers());\n\n    // initialize debounce function to search once user has stopped typing every half second\n    inputRef.current = _.debounce(onSearchText, 500);\n  }, []);\n\n  useEffect(() => {\n    if (props.users.length > 0) {\n      setUsers(props.users);\n      setIsLoading(false);\n    }\n  }, [props.users]);\n\n  function onSearchText(text, props) {\n    let filtered;\n    if (text) {\n      filtered = props.users.filter((user) =>\n        user.country.toLowerCase().includes(text.toLowerCase())\n      );\n    } else {\n      filtered = props.users;\n    }\n    setUsers(filtered);\n    setSortOrder('');\n  }\n\n  function handleSearch(event) {\n    inputRef.current(event.target.value, props);\n  }\n\n  function handleSort(sortOrder) {\n    setSortOrder(sortOrder);\n    if (sortOrder.value) {\n      setUsers(_.orderBy(users, ['age'], [sortOrder.value]));\n    }\n  }\n\n  return (\n    <React.Fragment>\n      <Header handleSearch={handleSearch} />\n      <Filters handleSort={handleSort} sortOrder={sortOrder} />\n      <UsersList users={users} isLoading={isLoading} />\n    </React.Fragment>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  users: state.users\n});\n\nexport default connect(mapStateToProps)(HomePage);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './component/store/store';\nimport HomePage from './component/HomePage';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './component/css/styles.scss';\n\nReactDOM.render(\n  <Provider store={store}>\n    <HomePage />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}